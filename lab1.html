<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Інтерактивний календар</title>
    <link rel="stylesheet" type="text/css" href="lab1.css">
</head>

<body>

    <div id="container">
    <div style="text-align: center">
        <img src="https://kpi.ua/files/images/kpi.png" alt="KPI" style="width: 200px;height: 200px;margin-bottom: 20px">
    </div>
    <div style="height: 100px;width: 100%">
        <div style="text-align: center;float: left">
            <form action="subject.html">
                <button style="width: 400px;height: 100px">Предметна
            область
        </button>
            </form>
        </div>
        <div style="float: right;text-align: center;font-family: 'Century Gothic';font-weight: bold">Розклад групи
            <div>
                <input id="inputSearchSchedule">
            </div>
            <div style="float: bottom">
                <button id="btnSearchSchedule" style="text-align: center" onclick="search()">Знайти</button>
            </div>
        </div>
    </div>

    <table border="1">
        <caption>Наш розклад</caption>
        <tr>
            <th></th>
            <th>Понеділок</th>
            <th>Вівторок</th>
            <th>Середа</th>
            <th>Четвер</th>
            <th>П'ятниця</th>
        </tr>
        <tr>
            <td>1. 8:30</td>
            <td></td>
            <td class="lecture">Розробка веб-застосувань</td>
            <td class="practice">Основи клієнтської розробки</td>
            <td></td>
            <td class="lecture">Вступ до філософії</td>
        </tr>
        <tr>
            <td>2. 10:25</td>
            <td class="practice">Комп. мережі</td>
            <td class="lecture">Комп. мережі</td>
            <td class="lecture">Основи клієнтської розробки</td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>3. 12:20</td>
            <td class="lecture">ВМ-3</td>
            <td class="practice">Англ</td>
            <td class="practice">ВМ-3</td>
            <td class="lecture">Бази даних</td>
            <td></td>
        </tr>
        <tr>
            <td>4. 14:15</td>
            <td class="practice">ФВ</td>
            <td class="practice">Бази даних</td>
            <td></td>
            <td class="practice">Розроблення веб-застосувань</td>
            <td></td>
        </tr>
        <tr>
            <td>5. 16:10</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td class="lecture">Психологія конфлікту</td>
        </tr>

    </table>
    <h2 style="text-align: center"><span>Запис своїх </span><b>нотаток</b></h2>


    <input id="content">
    <div id="note_block">
        <button onclick="note()">Занотувати</button>
        <button onclick="clearNotes()">Очистити</button>
    </div>
        <div>
        <ul id="noteContent">
            <li>Третьої пари у понеділок не буде</li>
        </ul>
        </div>

    </div>
    <script>
        function note() {
            let content = document.getElementById('content').value
            var date = new Date();
            document.getElementById('noteContent').innerHTML += `<li>${content}</li>`

        }

        function search() {
            let group = document.getElementById("inputSearchSchedule").value
            let ref = findURL(group);
            if (ref != null)
                window.location.href = ref;
        }

        function findURL(text) {
            let xmlHttp = new XMLHttpRequest();
            xmlHttp.open("GET", "https://api.rozklad.org.ua/v2/groups/" + text, false); // false for synchronous request
            xmlHttp.send(null);
            let url = xmlHttp.response;

            let startIndex = url.indexOf('http');
            if (startIndex == -1) {
                return null;
            }
            let lastIndex = url.indexOf("\"", startIndex);
            return url.substring(startIndex, lastIndex);
        }
        function clearNotes(){
           document.getElementById('noteContent').innerHTML = ""
        }
    </script>
</body>

</html>
</body>

</html>